{"version":3,"file":"main.build.js","sources":["../../../src/js/cookie-consent.js","../../../src/js/main.js"],"sourcesContent":["export default class CookieConsent {\r\n  constructor($element) {\r\n    const expires = 2.592e09; // 30days\r\n    const now = Date.now();\r\n    const saved = {\r\n      consent: window.localStorage.getItem('cookieConsent'),\r\n      time: window.localStorage.getItem('cookieConsentTime'),\r\n    };\r\n    // console.log(saved)\r\n    if (saved.time && (now - saved.time < expires) && saved.consent === 'true') return;\r\n\r\n    window.localStorage.setItem('cookieConsent', false);\r\n\r\n    this.$cookieConsent = $element;\r\n    this.$cookieConsent.classList.remove('is-hidden');\r\n\r\n    this.$button = this.$cookieConsent.querySelector('button');\r\n\r\n    function setCookieConsent(event, $cookieConsent) {\r\n      $cookieConsent.classList.add('is-hidden');\r\n      document.documentElement.classList.add('is-cookie-consent');\r\n      window.localStorage.setItem('cookieConsent', true);\r\n      window.localStorage.setItem('cookieConsentTime', now);\r\n\r\n      event.preventDefault();\r\n    }\r\n\r\n    this.$button.addEventListener('click', (event) => setCookieConsent(event, this.$cookieConsent));\r\n  }\r\n}\r\n","import CookieConsent from './cookie-consent';\r\n\r\nconst domLoad = () => {\r\n  // basic cookie consent\r\n  const $cookieConsent = document.querySelector('#cookie-consent');\r\n  if ($cookieConsent) {\r\n    const cookieConsent = new CookieConsent($cookieConsent);\r\n  }\r\n\r\n  const isCookieConsentSet = window.localStorage.getItem('cookieConsent');\r\n\r\n  document.documentElement.classList.toggle('is-cookie-consent', isCookieConsentSet && isCookieConsentSet === 'true');\r\n\r\n  // tracking\r\n  const $trackedButtons = document.querySelectorAll('[data-hl-track]');\r\n  if ($trackedButtons.length) {\r\n    $trackedButtons.forEach(($trackedButton) => {\r\n\r\n      const trackData = JSON.parse($trackedButton.dataset.hlTrack);\r\n\r\n      $trackedButton.addEventListener('click', () => {\r\n        gtag('event', trackData.name || 'click', {\r\n          event_category: trackData.category || $trackedButton.nodeName,\r\n          event_label: trackData.label || '',\r\n        });\r\n      });\r\n\r\n    });\r\n  }\r\n};\r\n\r\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(($anchor) => {\r\n  const $target = document.querySelector($anchor.getAttribute('href'));\r\n\r\n  $anchor.addEventListener('click', (event) => {\r\n    event.preventDefault();\r\n\r\n    $target.scrollIntoView({\r\n      behavior: 'smooth',\r\n    });\r\n  });\r\n});\r\n\r\n// The DOMContentLoaded event fires when parsing of the current page is complete. DOMContentLoaded is a great event to use to hookup UI functionality to complex web pages.\r\ndocument.addEventListener('DOMContentLoaded', domLoad, false);\r\n"],"names":["CookieConsent","_createClass","$element","_this","this","_classCallCheck","now","Date","saved","window","localStorage","getItem","setItem","$cookieConsent","classList","remove","$button","querySelector","addEventListener","event","add","document","documentElement","preventDefault","setCookieConsent","querySelectorAll","forEach","$anchor","$target","getAttribute","scrollIntoView","behavior","isCookieConsentSet","toggle","$trackedButtons","length","$trackedButton","trackData","JSON","parse","dataset","hlTrack","gtag","name","event_category","category","nodeName","event_label","label"],"mappings":"+SAAqBA,EAAaC,GAChC,SAAYC,EAAAA,GAAU,IAAAC,EAAAC,kGAAAC,CAAAD,KAAAJ,GACpB,IACMM,EAAMC,KAAKD,MACXE,EACKC,OAAOC,aAAaC,QAAQ,iBADjCH,EAEEC,OAAOC,aAAaC,QAAQ,qBAGhCH,GAAeF,EAAME,EAPT,QAOoD,SAAlBA,IAElDC,OAAOC,aAAaE,QAAQ,iBAAiB,GAE7CR,KAAKS,eAAiBX,EACtBE,KAAKS,eAAeC,UAAUC,OAAO,aAErCX,KAAKY,QAAUZ,KAAKS,eAAeI,cAAc,UAWjDb,KAAKY,QAAQE,iBAAiB,SAAS,SAACC,GAAK,OAT7C,SAA0BA,EAAON,GAC/BA,EAAeC,UAAUM,IAAI,aAC7BC,SAASC,gBAAgBR,UAAUM,IAAI,qBACvCX,OAAOC,aAAaE,QAAQ,iBAAiB,GAC7CH,OAAOC,aAAaE,QAAQ,oBAAqBN,GAEjDa,EAAMI,gBACR,CAEkDC,CAAiBL,EAAOhB,EAAKU,mBACjF,ICGFQ,SAASI,iBAAiB,gBAAgBC,SAAQ,SAACC,GACjD,IAAMC,EAAUP,SAASJ,cAAcU,EAAQE,aAAa,SAE5DF,EAAQT,iBAAiB,SAAS,SAACC,GACjCA,EAAMI,iBAENK,EAAQE,eAAe,CACrBC,SAAU,UAEd,GACF,IAGAV,SAASH,iBAAiB,oBA1CV,WAEd,IAAML,EAAiBQ,SAASJ,cAAc,mBAC1CJ,GACoB,IAAIb,EAAca,GAG1C,IAAMmB,EAAqBvB,OAAOC,aAAaC,QAAQ,iBAEvDU,SAASC,gBAAgBR,UAAUmB,OAAO,oBAAqBD,GAA6C,SAAvBA,GAGrF,IAAME,EAAkBb,SAASI,iBAAiB,mBAC9CS,EAAgBC,QAClBD,EAAgBR,SAAQ,SAACU,GAEvB,IAAMC,EAAYC,KAAKC,MAAMH,EAAeI,QAAQC,SAEpDL,EAAelB,iBAAiB,SAAS,WACvCwB,KAAK,QAASL,EAAUM,MAAQ,QAAS,CACvCC,eAAgBP,EAAUQ,UAAYT,EAAeU,SACrDC,YAAaV,EAAUW,OAAS,IAEpC,GAEF,GAEJ,IAeuD"}